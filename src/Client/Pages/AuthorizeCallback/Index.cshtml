@page
@using Newtonsoft.Json
@model IdentityProvider.Client.Pages.AuthorizeCallback.IndexModel
@{
    Layout = "_BlankLayout";

    <b>Callback success!</b>
 
    @Html.HiddenFor(x => x.ServerResponseEncoded, new { @id = "response" })
}
  
@section Scripts {

    <script language="javascript">
        $(function() {
            // Send the data to the parent frame as it can't be accessed directtly
            var destination = window.parent.window;
            destination.postMessage($("#response").val(), "*");
        });
    </script>
}